@if (isAuthenticated()) {
  @if (menuOpen()) {
    <div class="nav-backdrop" (click)="closeMenu()" role="button" tabindex="0" (keydown.enter)="closeMenu()" aria-label="Cerrar menú"></div>
  }
  <nav class="top-nav">
    <div class="nav-header">
      <div class="logo">
        <span class="brand">Michi Money</span>
        <span class="subtitle">Cartilla Digital</span>
      </div>
      <div class="nav-header-right">
        <button
          type="button"
          class="hamburger"
          [class.open]="menuOpen()"
          (click)="toggleMenu()"
          aria-label="Abrir menú"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
    <div class="nav-menu" [class.open]="menuOpen()">
      <ul class="nav-links">
        @if (userRole() === 'ADMIN') {
          <li><a routerLink="/dashboard/entries" routerLinkActive="active" (click)="closeMenu()">Dashboard ingresos</a></li>
          <li><a routerLink="/dashboard/stands" routerLinkActive="active" (click)="closeMenu()">Dashboard stands</a></li>
          <li><a routerLink="/admin/users" routerLinkActive="active" (click)="closeMenu()">Usuarios</a></li>
          <li><a routerLink="/admin/qr-management" routerLinkActive="active" (click)="closeMenu()">QRs</a></li>
          <li><a routerLink="/admin/register-student" routerLinkActive="active" (click)="closeMenu()">Estudiantes</a></li>
        }
        @if (userRole() === 'COOPERATIVA') {
          <li><a routerLink="/stand/scan-qr" routerLinkActive="active" (click)="closeMenu()">Escanear QR</a></li>
          <li><a routerLink="/stand/dashboard" routerLinkActive="active" (click)="closeMenu()">Mi stand</a></li>
        }
      </ul>
      <button type="button" class="logout-link logout-mobile" (click)="logout()">Salir</button>
      <button type="button" class="logout-link logout-desktop" (click)="logout()">Salir</button>
    </div>
  </nav>
}

<main class="app-main">
  <router-outlet />
</main>
