<div class="page">
  <h1>Escanear QR</h1>

  @if (success()) {
    <div class="result-card success-card">
      <p class="result-message">{{ success() }}</p>
      <button type="button" class="btn-full" (click)="scanAgain()">Escanear nuevamente</button>
    </div>
  } @else {
    <div class="scanner-section">
      @if (cameraError()) {
        <p class="error">{{ cameraError() }}</p>
        <button type="button" class="btn-full" (click)="scanAgain()">Reintentar cámara</button>
      } @else if (loading()) {
        <div class="loading-state">
          <p>Registrando actividad...</p>
        </div>
      } @else {
        <div id="qr-reader" class="qr-reader"></div>
        <p class="scanner-hint">Apunta la cámara al código QR del estudiante. Solo escaneo, sin escribir.</p>
      }

      @if (error()) {
        <p class="error">{{ error() }}</p>
      }
    </div>
  }
</div>
